language: php
sudo: false

php:
  - "7.1"
  - "7.2"
  - "7.3"

cache:
  directories:
    - $HOME/.composer/cache

install:
  - composer install --prefer-dist --no-interaction

script:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/phpunit --coverage-clover build/logs/clover.xml; else vendor/bin/phpunit; fi
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then vendor/bin/php-cs-fixer fix --config=vendor/ixocreate/coding-standard/.php_cs -v --dry-run --using-cache=no --path-mode=intersection `git diff --name-only --diff-filter=ACMRTUXB $TRAVIS_COMMIT_RANGE`; fi

after_success:
  - if [ $TRAVIS_PHP_VERSION = '7.2' ]; then php vendor/bin/php-coveralls -v; fi

notifications:
  email: false
  slack:
    secure: "JubYBEuQcUdteMiGh1ReH3X8CQYbDJ9w2cJGO9ILdGBmxFNJoKkOfZXNacCQ7LY2aIza3NsRFcxMt2EZ1wg4EZhB5gD5skCEooE4rpuJYWlsC3HqaKtNG/E87YfJ/D3dizJarulXmHyWELofHv4oWauTXwV6Z/oqVX67ZAYx+T7b5RiQyPvQoO//a4BzxY/84/QRVmIvTNdmbDGXW9OQ1f1/CvbG5CjSYYqLbu5tPjmwEBKytILNlFZpXY6KKQEMpEShjCpird8w6qBxBOsdq7wU/EklTnVDfCsEhH3+pCu20JXqQHsjxvx+bUrCYfgLzKnESfeIf7qU37KFfBfeWfqVLJUkP7srSpBY7V4pspjd1Tz9b9532ofRmW8W+4ztwuWzbzMiAJD7tYeBHa9amO9F/0IRvp+2jjjV/GgOIfk9G1G+5Aqr02TbXFOE0eUsq4/mHzQTMSFnEcjSSXcSNbcfhudb7gf02ZCbCAkwBJHu04lLmg++SOKBhXsJzypJol4GAfY5MG8AZoocHh8KQ17zC3t87qxnrIUWHczileCVPEdChyIv3r2CpCoG2Ajf08RSpvkUVhPnpP4n8OWChrUwv6qVzSABtAQO4X7Bf5JGv8T1+Omkj+dZOtS89365JakyhqPgc43cnneG8C3/gv6VtemxLOfqUdoMSrGzP1c="
